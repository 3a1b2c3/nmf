_target_: models.tensor_nerf.TensorNeRF
_partial_: True

density_shift: -10
alphaMask_thres: 0.00001
distance_scale: 25
rayMarch_weight_thres: 0.0001
nEnvSamples: 0
# fea2denseAct: 'relu'
fea2denseAct: 'softplus_shift'
# fea2denseAct: 'relu_shift'
max_recurs: 1
enable_refraction: False
infinity_border: False
enable_alpha_mask: false
roughness_rays: 20

rf:
  _partial_: True
  _target_: models.tensoRF.TensorVMSplit
  density_n_comp: 24
  appearance_n_comp: 24
  app_dim: 27
  # appearance_n_comp: 24
  # app_dim: 27
  step_ratio: 0.5
  density_res_multi: 1
  contract_space: False
  # num_levels: 1
  hier_sizes: [1]

bg_module:
  # _target_: models.render_modules.BackgroundRender
  _target_: models.render_modules.HierarchicalBG
  num_levels: 3
  bg_rank: 3
  num_layers: 0
  unwrap_fn: 
    _target_: models.render_modules.CubeUnwrap
  # view_encoder:
  #   _target_: models.ish.ISH
  #   max_degree: 6
  # bg_resolution: [4096, 2048]
  bg_resolution: 256

diffuse_module:
  _partial_: True
  _target_: models.render_modules.MLPDiffuse
  pospe: 0
  feape: 2
  view_encoder:
    _target_: models.ish.FullISH
    max_degree: 4
  featureC: 128
  num_layers: 2

# normal_module:
#   _partial_: True
#   # _target_: models.render_modules.DeepMLPNormal
#   _target_: models.render_modules.MLPNormal
#   lr: 3e-4
#   # pospe: 0
#   pospe: 8
#   featureC: 128
#   num_layers: 3

normal_module:
  _partial_: True
  _target_: models.render_modules.DeepMLPNormal
  # _target_: models.render_modules.MLPNormal
  lr: 3e-3
  # pospe: 0
  pospe: 12
  featureC: 128
  num_layers: 5
